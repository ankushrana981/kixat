<app-mini-header [isLoged]="false"></app-mini-header>
<section class="signup-form text-center mx-auto pb-4">
    <div class="container">

        <div *ngIf="successMessage" class="p-3 success bg-success-light rounded-3 mt-5 font18 wt-600">
            <i [innerHTML]="icons.tick | safeHtml"></i> {{successMessage}}
        </div>

        <div *ngIf="errorMessage" class="mt-3 p-3 text-danger red-light rounded-3 font18 wt-600">
            <i [innerHTML]="icons.infoIcon | safeHtml"></i> {{errorMessage}}
        </div>

        <h2 class="text-center font25 wt-800 my-4 pt-md-5">قم بأختيار كلمة مرور جديدة</h2>
        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="text-start">
            <app-loader *ngIf="isLoading"></app-loader>

            <div class="form-group">
                <div class="control-wrapper position-relative">
                    <span class="icon position-absolute" [innerHTML]="icons.email | safeHtml">                            
                    </span>
                    <input formControlName="email" id="email" type="email" class="form-control font16 wt-500">
                    <label for="email" class="position-absolute">البريد الالكتروني</label>
                    <p *ngIf="form.controls['email'].invalid && form.controls['email'].touched" class="text-danger text-start"> <i [innerHTML]="icons.infoIcon | safeHtml"></i> يرجى إدخال بريد الكتروني صحيح </p>
                </div>
            </div>

             <div class="form-group my-4">
                <div class="control-wrapper position-relative">
                    <span class="icon position-absolute" [innerHTML]="icons.key | safeHtml"> </span>
                    <input formControlName="password" id="password" type="password" class="form-control font16 wt-500 text-start" />
                    <label for="password" class="position-absolute">كلمة المرور</label>
                    <i class="position-absolute password-icon" [innerHTML]="icons.eye | safeHtml"> </i>
                    <p *ngIf="form.controls['password'].invalid && form.controls['password'].touched" class="text-danger"> <i [innerHTML]="icons.infoIcon | safeHtml"></i> الرجاء إدخال كلمة السر الصحيحة </p>
                </div>
            </div>
            <div class="form-group mb-4">
                <div class="control-wrapper position-relative">
                    <span class="icon position-absolute" [innerHTML]="icons.key | safeHtml"> </span>
                    <input formControlName="confirmPassword" id="confirmPassword" type="password" class="form-control font16 wt-500 text-start">
                    <label for="confirmPassword" class="position-absolute">كلمة المرور</label>
                    <i class="position-absolute password-icon" [innerHTML]="icons.eye | safeHtml"> </i>
                    <p *ngIf="form.controls['confirmPassword'].invalid && form.controls['confirmPassword'].touched" class="text-danger"> <i [innerHTML]="icons.infoIcon | safeHtml"></i>الرجاء إدخال كلمة السر الصحيحة</p>
                </div>
            </div>
            <div class="form-group mb-4">
                <div class="control-wrapper position-relative">
                    <span class="icon position-absolute" [innerHTML]="icons.key | safeHtml"> </span>
                    <input formControlName="code" id="code" type="text" class="form-control font16 wt-500 text-start">
                    <label for="code" class="position-absolute">رمز</label>
                    <p *ngIf="form.controls['code'].invalid && form.controls['code'].touched" class="text-danger"> <i [innerHTML]="icons.infoIcon | safeHtml"></i>الرجاء ادخال الكود الصحيح
                    </p>
                </div>
            </div>
            <button type="submit" class="btn rounded-3 lg-button theme-bg w-100 border-0 text-white font18 wt-600" [disabled]="!form.valid"> 
            تغيير        
        </button>
        </form>
    </div>
</section>