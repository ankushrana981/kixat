<section class="pb-4">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mx-auto">
                <h2 class="text-center font25 wt-800 my-4">مراسلتنا</h2>
                <ng-container *ngIf="!isSubmited; else message">
                    <form [formGroup]="form">
                        <app-loader *ngIf="isLoading"></app-loader>
                        <div class="form-group mb-3">
                            <div class="control-wrapper position-relative">
                                <span class="icon position-absolute" [innerHTML]="icons.userLight | safeHtml">      
                                </span>
                                <input formControlName="name" id="firstName" type="text" class="form-control font16 wt-500">
                                <label for="firstName" class="position-absolute">الاسم الأول</label>
                                <p *ngIf="form.controls['name'].invalid && form.controls['name'].touched" class="text-danger text-start"> <i [innerHTML]="icons.infoIcon | safeHtml"></i> يرجى إدخال بريد الكتروني صحيح </p>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <div class="control-wrapper position-relative">
                                <span class="icon position-absolute" [innerHTML]="icons.email | safeHtml">                            
                                </span>
                                <input formControlName="email" id="email" type="email" class="form-control font16 wt-500">
                                <label for="email" class="position-absolute">البريد الالكتروني</label>
                                <p *ngIf="form.controls['email'].invalid && form.controls['email'].touched" class="text-danger text-start"> <i [innerHTML]="icons.infoIcon | safeHtml"></i> يرجى إدخال بريد الكتروني صحيح </p>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <div class="control-wrapper position-relative">
                                <input formControlName="title" id="title" type="text" class="no-icon form-control font16 wt-500">
                                <label for="title" class="position-absolute">عنوان الموضوع/المشكلة</label>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <div class="control-wrapper position-relative">
                                <textarea formControlName="comment" id="comment" class="no-icon form-control font16 wt-500"></textarea>
                                <label for="comment" class="position-absolute">الاستفسار/تفاصيل المشكلة</label>
                            </div>
                        </div>
                        <button (click)="onSubmit()" type="submit" class="rounded-3 theme-bg w-100 border-0 text-white lg-button font18 wt-600">
                            إرسال
                        </button>
                    </form>
                </ng-container>
                <ng-template #message>
                    <div class="text-center pt-4">
                        <i [innerHTML]="icons.sent | safeHtml"></i>
                        <h4 class="font20 wt-800 my-4">تم إرسال استفسارك بنجاح، سنقوم بالرد في اقرب وقت ممكن</h4>
                        <div class="px-md-5">
                            <button class="btn btn-outline theme-color w-100">العودة إلى الصفحة الرئيسية</button>
                        </div>
                    </div>
                </ng-template>
            </div>
        </div>
    </div>
</section>